I"M<p>Als ich meinen Eee PC eingerichtet habe, suchte ich nach einer M√∂glichkeit, einfach und kosteng√ºnstig unterwegs ins Internet gehen zu k√∂nnen. Klar, mit dem Handy per USB-Kabel war das kein Problem, aber auch nicht wirklich sch√∂n ‚Äì es h√§ngt halt immer ein Telefon am Kabel und zerst√∂rt den kompakten Charakter des Eee.</p>

<p>Ich habe mich f√ºr ein Huawei E169 UMTS-Modem entschieden. Das Modem ist nur wenig gr√∂√üer als ein gew√∂hnlicher USB-Stick und schmiegt sich farblich sch√∂n an meinen wei√üern Eee PC an. Das Modem gibt es von allen Mobilfunkbetreibern unter unterschiedlichen Namen ‚Äì bei O2 hei√üt es z.B. ‚ÄúO2 SurfStick‚Äù. Auf meinem Ger√§t steht ‚Äúeplus/base‚Äù ‚Äì dort bekommt man f√ºr 25 Euro eine echte UMTS-Flatrate, die zum Jahresende auch HSDPA kann (laut Eplus).</p>

<p>Nun zur Handhabung mit Linux. Grunds√§tzlich funktionieren die Ger√§te von Huawei sehr gut mit Linux, sofern man einen relativ aktuellen Kernel hat (2.6.20 oder h√∂her sollte reichen). Ich nutze Archlinux ‚Äì Archlinux-User benutzen keinen alten Kram, also muss man sich dabei keine Sorgen machen‚Ä¶</p>

<p>Nun zum Wort ‚Äúgrunds√§tzlich‚Äù im vorigen Satz: Auch das E169 arbeitet tadellos mit Linux zusammen, es gibt lediglich einen kleinen Stolperstein. Das E169 ist ein sogenanntes ‚ÄúComposite-Ger√§t‚Äù ‚Äì es ist nicht nur Modem, sondern auch USB-Speicher (f√ºr die Windows-Treiber) und SD-Kartenger√§t. Steckt ihr den Stick in Euren Rechner, bevor Ihr ihn hochfahrt, k√∂nnt Ihr das Huawei E169 problemlos mit Software zum Herstellen einer PPP-Verbindung nutzen ‚Äì etwa <em>wvdial</em> oder <em>kinternet</em>.
Bl√∂d wird es nur, wenn Ihr das Modem erst nach dem Start Eures Rechners einsteckt ‚Äì das Ger√§t √∂ffnet sich dann im USB-Storage-Mode. Damit kommt man leider nicht ins UMTS-Netz‚Ä¶</p>

<p>Die L√∂sung ist aber sehr, sehr einfach:
Ihr m√ºsst lediglich <strong>libusb</strong> installiert haben ‚Äì wenn ihr USB-Ger√§te nicht aus religi√∂sen Gr√ºnden ablehnt (warum habt Ihr Euch dann ein USB-UMTS-Modem gekauft?!?), ist die Bibliothek wahrscheinlich schon auf Eurem Rechner. Zus√§tzlich ben√∂tigt Ihr das kleine Tool <a href="http://www.draisberghof.de/usb_modeswitch/"><strong>usb_modeswitch</strong></a>, ein Utility f√ºr die einfache Manipulation von USB-Composite-Modi.
Da nur <em>root</em> solche Kommandos absetzen darf, m√ºsst ihr es als <em>root</em>-user aufrufen. Nur noch ein Schritt zum Gl√ºck: Ihr m√ºsst f√ºr das Werkzeug eine Konfiguration erzeugen und in /etc ablegen. F√ºr das E169 sieht die Datei <em>usb_modeswitch.conf</em> so aus:</p>

<pre class="brush: bash; title: ; notranslate" title="">
##############################
# Huawei E169
DefaultVendor= 0x12d1
DefaultProduct= 0x1001

DetachStorageOnly= 0
HuaweiMode= 1
</pre>

<p>Diese Daten k√∂nnt ihr mit einem USB-Sniffer bestimmen und so sicher auch andere Huawei-Ger√§te zur Kooperation bewegen!</p>

<p>Nun m√ºsst Ihr nur noch usb_modeswitch als root ausf√ºhren, damit das Modem in den richtigen Modus versetzt wird:</p>

<p><code>/Pfad/zu/usb_modeswitch/usb_modeswitch</code></p>

<p>Nun k√∂nnt Ihr eine W√§hlverbindung mit dem Tool Eurer Wahl einrichten (z.B. √ºber <em>wvdial</em>)!</p>

<p>Meine wvdial.conf:</p>

<pre class="brush: bash; title: ; notranslate" title="">
[Dialer Defaults]
Init1 = ATZ
Init2 = ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0
Init3 = AT+CGDCONT=1, &#8220;IP&#8221;, &#8220;internet.eplus.de&#8221;, &#8220;0.0.0.0&#8243;
Modem Type = Analog Modem
Baud = 460800
New PPPD = yes
Modem = /dev/ttyUSB0
ISDN = 0
Phone = *99***1#
Password = eplus
Username = eplus
Auto DNS = 1
Stupid Mode = 1
</pre>

<p>Viel Spa√ü beim Lossurfen!</p>
:ET